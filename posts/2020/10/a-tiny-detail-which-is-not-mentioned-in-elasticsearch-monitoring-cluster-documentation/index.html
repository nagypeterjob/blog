<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>A tiny detail which is not mentioned in Elasticsearch monitoring cluster documentation</title>
  <meta name="description" content="A missing piece in Elasticsearch documentation">
  <meta name="roboots" content="index, archive, follow">
  <meta name="googlebot" content="index, follow">
  <meta property="og:title" content="A tiny detail which is not mentioned in Elasticsearch monitoring cluster documentation">
  <meta property="og:description" content="A missing piece in Elasticsearch documentation">
  <meta name="twitter:card" content="summary">
  <meta name="keywords" content="elasticsearch, monitoring, cluster, master node, order, metrics">
  <meta name="author" content="Peter Hasko-Nagy">
  <meta property="og:site_name" content="prodisup">
  <meta name="twitter:site" content="@prodisup">
  <meta name="twitter:creator" content="@prodisup">
  <meta name="theme-color" content="#ffffff">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RS0P9VR61J"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RS0P9VR61J');
</script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link rel="stylesheet" href="../../../../css/main.css?v=1.0">
  <link rel="icon" type="image/x-icon" href="../../../../icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="120x120" href="../../../../icons/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="../../../../icons/apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../icons/apple-touch-icon-180x180.png" />
</head>

<body>
    <div class="container-fluid underline head">
      <div class="container header">
        <div class="row">
          <div class="col">
            <div class="logo">
              You know, I'm something of a computer scientist myself
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="disclaimer">
              The opinions expressed on this blog are purely mine
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <ul>
              <li><a href="../../../../">blog</a></li>
              <li><a href="https://github.com/nagypeterjob">github</a></li>
              <li><a href="https://twitter.com/ngy_ptr">twitter</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container article">
        <div class="row">
            <div class="col post">
                <h1>A tiny detail which is not mentioned in Elasticsearch monitoring cluster documentation</h1>
                <p class="date">2020-10-29</p>
                <p>
                    When you setup a dedicated monitoring cluster for your existing production cluster, make sure that the elected master node is the first to send metrics (via <a href="https://www.elastic.co/beats/metricbeat">metricbeat</a>) to the monitoring cluster. (It is totally fine if all the nodes are publishing metrics in the same time, just make sure that the elected master is among them). As it turns out, the e.m. publishes not just metrics, but information needed for the monitoring cluster to setup <strong>Stack Monitoring</strong> UI.
                </p>
                <p>
                    The step-by-step <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/monitoring-production.html">documentation</a> is pretty good, it just fails to mention this tiny detail which can result in hours of debugging. Ask me why I know ðŸ™„
                </p>

                <hr/>
            </div>
        </div>
    </div>
</body>
</html>