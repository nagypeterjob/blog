<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Fixing VNC black screen on Big Sur</title>
  <meta name="description" content="how to fix vnc black screen on big sur">
  <meta name="roboots" content="index, archive, follow">
  <meta name="googlebot" content="index, follow">
  <meta property="og:title" content="Fixing VNC black screen on Big Sur">
  <meta property="og:description" content="how to fix vnc black screen on big sur">
  <meta name="twitter:card" content="summary">
  <meta name="keywords" content="mac, vnc, black screen, big sur, fix">
  <meta name="author" content="Peter Hasko-Nagy">
  <meta property="og:site_name" content="prodisup">
  <meta name="twitter:site" content="@prodisup">
  <meta name="twitter:creator" content="@prodisup">
  <meta name="theme-color" content="#ffffff">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-RS0P9VR61J"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-RS0P9VR61J');
  </script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link rel="stylesheet" href="../../../../css/main.css?v=1.0">
  <link rel="icon" type="image/x-icon" href="../../../../icons/favicon.ico">
  <link rel="apple-touch-icon" sizes="120x120" href="../../../../icons/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon" sizes="152x152" href="../../../../icons/apple-touch-icon-152x152.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="../../../../icons/apple-touch-icon-180x180.png" />
</head>

<body>
    <div class="container-fluid underline head">
      <div class="container header">
        <div class="row">
          <div class="col">
            <div class="logo">
              You know, I'm something of a computer scientist myself
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="disclaimer">
              The opinions expressed on this blog are purely mine
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <ul>
              <li><a href="../../../../">blog</a></li>
              <li><a href="https://github.com/nagypeterjob">github</a></li>
              <li><a href="https://twitter.com/ngy_ptr">twitter</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="container article">
        <div class="row">
            <div class="col post">
                <h1>Fixing VNC black screen on Big Sur</h1>

                <p><strong>Remote Management</strong> on Big Sur has a strange bug(?). When you enable & configure RM via UI it will work as intended, but as soon as you try the same via command line, things will go south. Why would you do that? You are most likely virtualizing MacOS too.</p>
                <p>You have probably run something like this to enable Remote Management:</p>
                <pre>
                    <code>
cd /System/Library/CoreServices/RemoteManagement/ARDAgent.app/Contents/Resources/
sudo ./kickstart -configure -allowAccessFor -specifiedUsers
sudo ./kickstart -configure -allowAccessFor -allUsers -privs -all
sudo ./kickstart -activate
                    </code>
                </pre>
                <blockquote class="blockquote">Note that the above command(s) grant all privileges to any user who was able to connect</blockquote>
                <p>Now try to connect from an other machine via the Screen Sharing application: you will probably end up with a black screen.</p>
                <p>To fix the issue, you will need to reset Screen capture permissions, so take a note of the currently whitelisted applications (Security & Privacy > Privacy tab > Screen Recording). </p>
                <p>Run the following command, then reconnect:</p>
                <pre>
                    <code>
tccutil reset ScreenCapture
                    </code>
                </pre>
                <p>You should be able to see you Big Sur desktop as intended.</p>
                <hr/>
            </div>
        </div>
    </div>
</body>
</html>